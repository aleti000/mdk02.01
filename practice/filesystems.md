# Лабораторная работа:
Управление дисками и монтирование разделов в Linux  

---

## Введение  
Цель работы: изучить принципы монтирования разделов, работу с утилитой `parted`, а также основы управления дисками в Linux.  
**Задачи:**  
1. Создать, отформатировать и смонтировать раздел.  
2. Изменить размер раздела.  
3. Настроить автоматическое монтирование через `/etc/fstab`.  
4. Просмотреть информацию о дисках и разделах.  

---

## Теоретическая часть  
### 1. Монтирование разделов  
- **Монтирование** — процесс подключения раздела к файловой системе. Без этого раздел недоступен.  
- **Точка монтирования** — директория, через которую доступны данные раздела (например, `/mnt/usb`).  
- **Тип файловой системы** (ext4, vfat, NTFS) указывается при монтировании.  
- **Команда `mount`:**  
  ```bash  
  sudo mount /dev/sdb1 /mnt/usb  
  ```  
- **Автоматическое монтирование** настраивается в файле `/etc/fstab` с помощью UUID или имен устройства.  

### 2. Управление дисками  
- **Таблицы разделов:**  
  - **MBR (Master Boot Record):**  
    - Ограничения: до 2 ТБ, 4 первичных раздела.  
    - Поддержка: старые системы.  
  - **GPT (GUID Partition Table):**  
    - Поддержка больших дисков (>2 ТБ), до 128 разделов.  
    - Требует UEFI.  

- **Утилита `parted`:**  
  - Просмотр дисков: `parted -l`.  
  - Создание раздела:  
    ```bash  
    sudo parted /dev/sdX mkpart primary ext4 0% 50GB  
    ```  
  - Изменение размера: `resizepart`.  
  - Удаление раздела: `rm`.  

---

## Практическая часть  

### Задание 1. Создание и монтирование раздела  
**Цель:** Создать раздел, отформатировать его и смонтировать.  

**Шаги:**  
1. Просмотр дисков:  
   ```bash  
   sudo parted -l  
   ```  
   *Примечание:* Используйте диск, который можно безопасно модифицировать (например, `/dev/sdb`).  

2. Запустите `parted` для диска:  
   ```bash  
   sudo parted /dev/sdb  
   ```  

3. Создайте раздел:  
   ```bash  
   (parted) mkpart primary ext4 0% 50%  
   (parted) print  
   (parted) quit  
   ```  

4. Форматирование раздела:  
   ```bash  
   sudo mkfs.ext4 /dev/sdb1  
   ```  

5. Создайте точку монтирования:  
   ```bash  
   sudo mkdir /mnt/newdisk  
   ```  

6. Смонтируйте раздел:  
   ```bash  
   sudo mount /dev/sdb1 /mnt/newdisk  
   ```  

7. Проверьте монтирование:  
   ```bash  
   df -hT  
   ```  

---

### Задание 2. Изменение размера раздела  
**Цель:** Увеличить размер раздела до 80% диска.  

**Шаги:**  
1. Запустите `parted` для диска:  
   ```bash  
   sudo parted /dev/sdb  
   ```  

2. Измените размер раздела:  
   ```bash  
   (parted) resizepart 1  
   # Введите новую границу (например, 80%)  
   (parted) print  
   (parted) quit  
   ```  

3. Обновите систему о новом размере:  
   ```bash  
   sudo resize2fs /dev/sdb1  
   ```  

4. Проверьте изменение:  
   ```bash  
   df -hT  
   ```  

---

### Задание 3. Настройка автоматического монтирования  
**Цель:** Добавить раздел в `/etc/fstab` для автоматического монтирования.  

**Шаги:**  
1. Найдите UUID раздела:  
   ```bash  
   sudo blkid /dev/sdb1  
   ```  

2. Откройте `/etc/fstab` для редактирования:  
   ```bash  
   sudo nano /etc/fstab  
   ```  

3. Добавьте строку:  
   ```  
   UUID=1234-5678 /mnt/newdisk ext4 defaults 0 2  
   ```  

4. Проверьте корректность:  
   ```bash  
   sudo mount -a  
   ```  

---

### Задание 4. Просмотр информации о дисках  
**Цель:** Определить тип таблицы разделов.  

**Шаги:**  
1. Просмотр таблицы разделов:  
   ```bash  
   sudo parted /dev/sda print  
   ```  
   *Пример вывода:*  
   ```
   Partition Table: gpt  
   ```  

2. Просмотр всех дисков:  
   ```bash  
   lsblk  
   ```  

---

## Вопросы для самоконтроля  
1. Какие типы таблиц разделов поддерживаются в Linux?  
2. Что делает команда `mount`?  
3. Как определить UUID раздела?  
4. Какие параметры указываются в `/etc/fstab`?  

---

## Вывод  
В ходе работы были изучены основы монтирования разделов и управления дисками в Linux. Были выполнены практические задания по созданию раздела, его монтированию, изменению размера и настройке автоматического монтирования. Убедительно показано, что работа с дисками требует осторожности и предварительного бэкапа данных.  

---

## Литература  
1. Официальная документация parted: [parted.sourceforge.io](https://www.gnu.org/software/parted/manual/html_node/index.html)  
2. Linux man pages: `man mount`, `man parted`, `man fstab`.  
