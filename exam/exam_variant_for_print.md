# Экзамен МДК 02.01 - Вариант 1

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.128.0/24 (т.е. 10.0.128.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.128.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.128.2)  

*2. Динамический пул:* Адреса с 10.0.128.50 по 10.0.128.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-0**  
На дисках sdb, sdc, sdd создайте RAID-0 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_1  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_1 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_1  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2201 для SSH подключений.  

*Проверка:*  
```
ssh -p 2201 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant1.sa**  
Настройте Samba как контроллер домена с именем variant1.sa.  

*Проверка:*  
```
samba-tool domain info variant1.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant1_1, variant1_2, variant1_3 и группу variant1_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant1_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant1_1@variant1.sa
```

**D. Sudo права для группы**  
Пользователи variant1_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant1_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 2

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.129.0/24 (т.е. 10.0.129.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.129.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.129.2)  

*2. Динамический пул:* Адреса с 10.0.129.52 по 10.0.129.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-1**  
На дисках sdb, sdc, sdd создайте RAID-1 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_2  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_2 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_2  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2202 для SSH подключений.  

*Проверка:*  
```
ssh -p 2202 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant2.sa**  
Настройте Samba как контроллер домена с именем variant2.sa.  

*Проверка:*  
```
samba-tool domain info variant2.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant2_1, variant2_2, variant2_3 и группу variant2_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant2_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant2_1@variant2.sa
```

**D. Sudo права для группы**  
Пользователи variant2_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant2_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 3

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.130.0/24 (т.е. 10.0.130.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.130.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.130.2)  

*2. Динамический пул:* Адреса с 10.0.130.54 по 10.0.130.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-5**  
На дисках sdb, sdc, sdd создайте RAID-5 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_3  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_3 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_3  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2203 для SSH подключений.  

*Проверка:*  
```
ssh -p 2203 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant3.sa**  
Настройте Samba как контроллер домена с именем variant3.sa.  

*Проверка:*  
```
samba-tool domain info variant3.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant3_1, variant3_2, variant3_3 и группу variant3_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant3_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant3_1@variant3.sa
```

**D. Sudo права для группы**  
Пользователи variant3_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant3_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 4

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.131.0/24 (т.е. 10.0.131.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.131.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.131.2)  

*2. Динамический пул:* Адреса с 10.0.131.56 по 10.0.131.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-0**  
На дисках sdb, sdc, sdd создайте RAID-0 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_4  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_4 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_4  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2204 для SSH подключений.  

*Проверка:*  
```
ssh -p 2204 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant4.sa**  
Настройте Samba как контроллер домена с именем variant4.sa.  

*Проверка:*  
```
samba-tool domain info variant4.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant4_1, variant4_2, variant4_3 и группу variant4_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant4_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant4_1@variant4.sa
```

**D. Sudo права для группы**  
Пользователи variant4_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant4_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 5

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.132.0/24 (т.е. 10.0.132.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.132.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.132.2)  

*2. Динамический пул:* Адреса с 10.0.132.58 по 10.0.132.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-1**  
На дисках sdb, sdc, sdd создайте RAID-1 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_5  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_5 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_5  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2205 для SSH подключений.  

*Проверка:*  
```
ssh -p 2205 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant5.sa**  
Настройте Samba как контроллер домена с именем variant5.sa.  

*Проверка:*  
```
samba-tool domain info variant5.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant5_1, variant5_2, variant5_3 и группу variant5_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant5_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant5_1@variant5.sa
```

**D. Sudo права для группы**  
Пользователи variant5_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant5_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 6

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.133.0/24 (т.е. 10.0.133.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.133.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.133.2)  

*2. Динамический пул:* Адреса с 10.0.133.60 по 10.0.133.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-5**  
На дисках sdb, sdc, sdd создайте RAID-5 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_6  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_6 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_6  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2206 для SSH подключений.  

*Проверка:*  
```
ssh -p 2206 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant6.sa**  
Настройте Samba как контроллер домена с именем variant6.sa.  

*Проверка:*  
```
samba-tool domain info variant6.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant6_1, variant6_2, variant6_3 и группу variant6_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant6_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant6_1@variant6.sa
```

**D. Sudo права для группы**  
Пользователи variant6_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant6_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 7

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.134.0/24 (т.е. 10.0.134.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.134.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.134.2)  

*2. Динамический пул:* Адреса с 10.0.134.62 по 10.0.134.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-0**  
На дисках sdb, sdc, sdd создайте RAID-0 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_7  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_7 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_7  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2207 для SSH подключений.  

*Проверка:*  
```
ssh -p 2207 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant7.sa**  
Настройте Samba как контроллер домена с именем variant7.sa.  

*Проверка:*  
```
samba-tool domain info variant7.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant7_1, variant7_2, variant7_3 и группу variant7_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant7_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant7_1@variant7.sa
```

**D. Sudo права для группы**  
Пользователи variant7_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant7_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 8

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.135.0/24 (т.е. 10.0.135.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.135.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.135.2)  

*2. Динамический пул:* Адреса с 10.0.135.64 по 10.0.135.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-1**  
На дисках sdb, sdc, sdd создайте RAID-1 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_8  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_8 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_8  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2208 для SSH подключений.  

*Проверка:*  
```
ssh -p 2208 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant8.sa**  
Настройте Samba как контроллер домена с именем variant8.sa.  

*Проверка:*  
```
samba-tool domain info variant8.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant8_1, variant8_2, variant8_3 и группу variant8_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant8_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant8_1@variant8.sa
```

**D. Sudo права для группы**  
Пользователи variant8_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant8_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 9

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.136.0/24 (т.е. 10.0.136.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.136.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.136.2)  

*2. Динамический пул:* Адреса с 10.0.136.66 по 10.0.136.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-5**  
На дисках sdb, sdc, sdd создайте RAID-5 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_9  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_9 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_9  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2209 для SSH подключений.  

*Проверка:*  
```
ssh -p 2209 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant9.sa**  
Настройте Samba как контроллер домена с именем variant9.sa.  

*Проверка:*  
```
samba-tool domain info variant9.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant9_1, variant9_2, variant9_3 и группу variant9_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant9_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant9_1@variant9.sa
```

**D. Sudo права для группы**  
Пользователи variant9_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant9_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 10

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.137.0/24 (т.е. 10.0.137.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.137.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.137.2)  

*2. Динамический пул:* Адреса с 10.0.137.68 по 10.0.137.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-0**  
На дисках sdb, sdc, sdd создайте RAID-0 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_10  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_10 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_10  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2210 для SSH подключений.  

*Проверка:*  
```
ssh -p 2210 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant10.sa**  
Настройте Samba как контроллер домена с именем variant10.sa.  

*Проверка:*  
```
samba-tool domain info variant10.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant10_1, variant10_2, variant10_3 и группу variant10_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant10_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant10_1@variant10.sa
```

**D. Sudo права для группы**  
Пользователи variant10_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant10_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 11

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.138.0/24 (т.е. 10.0.138.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.138.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.138.2)  

*2. Динамический пул:* Адреса с 10.0.138.70 по 10.0.138.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-1**  
На дисках sdb, sdc, sdd создайте RAID-1 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_11  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_11 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_11  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2211 для SSH подключений.  

*Проверка:*  
```
ssh -p 2211 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant11.sa**  
Настройте Samba как контроллер домена с именем variant11.sa.  

*Проверка:*  
```
samba-tool domain info variant11.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant11_1, variant11_2, variant11_3 и группу variant11_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant11_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant11_1@variant11.sa
```

**D. Sudo права для группы**  
Пользователи variant11_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant11_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 12

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.139.0/24 (т.е. 10.0.139.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.139.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.139.2)  

*2. Динамический пул:* Адреса с 10.0.139.72 по 10.0.139.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-5**  
На дисках sdb, sdc, sdd создайте RAID-5 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_12  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_12 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_12  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2212 для SSH подключений.  

*Проверка:*  
```
ssh -p 2212 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant12.sa**  
Настройте Samba как контроллер домена с именем variant12.sa.  

*Проверка:*  
```
samba-tool domain info variant12.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant12_1, variant12_2, variant12_3 и группу variant12_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant12_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant12_1@variant12.sa
```

**D. Sudo права для группы**  
Пользователи variant12_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant12_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 13

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.140.0/24 (т.е. 10.0.140.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.140.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.140.2)  

*2. Динамический пул:* Адреса с 10.0.140.74 по 10.0.140.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-0**  
На дисках sdb, sdc, sdd создайте RAID-0 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_13  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_13 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_13  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2213 для SSH подключений.  

*Проверка:*  
```
ssh -p 2213 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant13.sa**  
Настройте Samba как контроллер домена с именем variant13.sa.  

*Проверка:*  
```
samba-tool domain info variant13.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant13_1, variant13_2, variant13_3 и группу variant13_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant13_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant13_1@variant13.sa
```

**D. Sudo права для группы**  
Пользователи variant13_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant13_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 14

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.141.0/24 (т.е. 10.0.141.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.141.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.141.2)  

*2. Динамический пул:* Адреса с 10.0.141.76 по 10.0.141.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-1**  
На дисках sdb, sdc, sdd создайте RAID-1 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_14  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_14 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_14  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2214 для SSH подключений.  

*Проверка:*  
```
ssh -p 2214 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant14.sa**  
Настройте Samba как контроллер домена с именем variant14.sa.  

*Проверка:*  
```
samba-tool domain info variant14.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant14_1, variant14_2, variant14_3 и группу variant14_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant14_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant14_1@variant14.sa
```

**D. Sudo права для группы**  
Пользователи variant14_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant14_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 15

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.142.0/24 (т.е. 10.0.142.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.142.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.142.2)  

*2. Динамический пул:* Адреса с 10.0.142.78 по 10.0.142.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-5**  
На дисках sdb, sdc, sdd создайте RAID-5 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_15  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_15 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_15  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2215 для SSH подключений.  

*Проверка:*  
```
ssh -p 2215 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant15.sa**  
Настройте Samba как контроллер домена с именем variant15.sa.  

*Проверка:*  
```
samba-tool domain info variant15.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant15_1, variant15_2, variant15_3 и группу variant15_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant15_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant15_1@variant15.sa
```

**D. Sudo права для группы**  
Пользователи variant15_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant15_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 16

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.143.0/24 (т.е. 10.0.143.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.143.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.143.2)  

*2. Динамический пул:* Адреса с 10.0.143.80 по 10.0.143.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-0**  
На дисках sdb, sdc, sdd создайте RAID-0 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_16  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_16 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_16  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2216 для SSH подключений.  

*Проверка:*  
```
ssh -p 2216 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant16.sa**  
Настройте Samba как контроллер домена с именем variant16.sa.  

*Проверка:*  
```
samba-tool domain info variant16.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant16_1, variant16_2, variant16_3 и группу variant16_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant16_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant16_1@variant16.sa
```

**D. Sudo права для группы**  
Пользователи variant16_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant16_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 17

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.144.0/24 (т.е. 10.0.144.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.144.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.144.2)  

*2. Динамический пул:* Адреса с 10.0.144.82 по 10.0.144.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-1**  
На дисках sdb, sdc, sdd создайте RAID-1 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_17  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_17 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_17  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2217 для SSH подключений.  

*Проверка:*  
```
ssh -p 2217 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant17.sa**  
Настройте Samba как контроллер домена с именем variant17.sa.  

*Проверка:*  
```
samba-tool domain info variant17.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant17_1, variant17_2, variant17_3 и группу variant17_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant17_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant17_1@variant17.sa
```

**D. Sudo права для группы**  
Пользователи variant17_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant17_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 18

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.145.0/24 (т.е. 10.0.145.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.145.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.145.2)  

*2. Динамический пул:* Адреса с 10.0.145.84 по 10.0.145.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-5**  
На дисках sdb, sdc, sdd создайте RAID-5 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_18  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_18 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_18  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2218 для SSH подключений.  

*Проверка:*  
```
ssh -p 2218 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant18.sa**  
Настройте Samba как контроллер домена с именем variant18.sa.  

*Проверка:*  
```
samba-tool domain info variant18.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant18_1, variant18_2, variant18_3 и группу variant18_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant18_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant18_1@variant18.sa
```

**D. Sudo права для группы**  
Пользователи variant18_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant18_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 19

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.146.0/24 (т.е. 10.0.146.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.146.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.146.2)  

*2. Динамический пул:* Адреса с 10.0.146.86 по 10.0.146.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-0**  
На дисках sdb, sdc, sdd создайте RAID-0 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_19  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_19 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_19  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2219 для SSH подключений.  

*Проверка:*  
```
ssh -p 2219 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant19.sa**  
Настройте Samba как контроллер домена с именем variant19.sa.  

*Проверка:*  
```
samba-tool domain info variant19.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant19_1, variant19_2, variant19_3 и группу variant19_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant19_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant19_1@variant19.sa
```

**D. Sudo права для группы**  
Пользователи variant19_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant19_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 20

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.147.0/24 (т.е. 10.0.147.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.147.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.147.2)  

*2. Динамический пул:* Адреса с 10.0.147.88 по 10.0.147.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-1**  
На дисках sdb, sdc, sdd создайте RAID-1 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_20  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_20 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_20  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2220 для SSH подключений.  

*Проверка:*  
```
ssh -p 2220 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant20.sa**  
Настройте Samba как контроллер домена с именем variant20.sa.  

*Проверка:*  
```
samba-tool domain info variant20.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant20_1, variant20_2, variant20_3 и группу variant20_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant20_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant20_1@variant20.sa
```

**D. Sudo права для группы**  
Пользователи variant20_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant20_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 21

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.148.0/24 (т.е. 10.0.148.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.148.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.148.2)  

*2. Динамический пул:* Адреса с 10.0.148.90 по 10.0.148.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-5**  
На дисках sdb, sdc, sdd создайте RAID-5 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_21  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_21 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_21  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2221 для SSH подключений.  

*Проверка:*  
```
ssh -p 2221 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant21.sa**  
Настройте Samba как контроллер домена с именем variant21.sa.  

*Проверка:*  
```
samba-tool domain info variant21.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant21_1, variant21_2, variant21_3 и группу variant21_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant21_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant21_1@variant21.sa
```

**D. Sudo права для группы**  
Пользователи variant21_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant21_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 22

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.149.0/24 (т.е. 10.0.149.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.149.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.149.2)  

*2. Динамический пул:* Адреса с 10.0.149.92 по 10.0.149.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-0**  
На дисках sdb, sdc, sdd создайте RAID-0 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_22  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_22 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_22  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2222 для SSH подключений.  

*Проверка:*  
```
ssh -p 2222 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant22.sa**  
Настройте Samba как контроллер домена с именем variant22.sa.  

*Проверка:*  
```
samba-tool domain info variant22.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant22_1, variant22_2, variant22_3 и группу variant22_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant22_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant22_1@variant22.sa
```

**D. Sudo права для группы**  
Пользователи variant22_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant22_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 23

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.150.0/24 (т.е. 10.0.150.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.150.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.150.2)  

*2. Динамический пул:* Адреса с 10.0.150.94 по 10.0.150.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-1**  
На дисках sdb, sdc, sdd создайте RAID-1 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_23  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_23 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_23  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2223 для SSH подключений.  

*Проверка:*  
```
ssh -p 2223 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant23.sa**  
Настройте Samba как контроллер домена с именем variant23.sa.  

*Проверка:*  
```
samba-tool domain info variant23.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant23_1, variant23_2, variant23_3 и группу variant23_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant23_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant23_1@variant23.sa
```

**D. Sudo права для группы**  
Пользователи variant23_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant23_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 24

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.151.0/24 (т.е. 10.0.151.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.151.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.151.2)  

*2. Динамический пул:* Адреса с 10.0.151.96 по 10.0.151.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-5**  
На дисках sdb, sdc, sdd создайте RAID-5 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_24  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_24 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_24  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2224 для SSH подключений.  

*Проверка:*  
```
ssh -p 2224 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant24.sa**  
Настройте Samba как контроллер домена с именем variant24.sa.  

*Проверка:*  
```
samba-tool domain info variant24.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant24_1, variant24_2, variant24_3 и группу variant24_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant24_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant24_1@variant24.sa
```

**D. Sudo права для группы**  
Пользователи variant24_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant24_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 25

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.152.0/24 (т.е. 10.0.152.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.152.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.152.2)  

*2. Динамический пул:* Адреса с 10.0.152.98 по 10.0.152.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-0**  
На дисках sdb, sdc, sdd создайте RAID-0 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_25  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_25 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_25  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2225 для SSH подключений.  

*Проверка:*  
```
ssh -p 2225 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant25.sa**  
Настройте Samba как контроллер домена с именем variant25.sa.  

*Проверка:*  
```
samba-tool domain info variant25.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant25_1, variant25_2, variant25_3 и группу variant25_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant25_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant25_1@variant25.sa
```

**D. Sudo права для группы**  
Пользователи variant25_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant25_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 26

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.153.0/24 (т.е. 10.0.153.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.153.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.153.2)  

*2. Динамический пул:* Адреса с 10.0.153.100 по 10.0.153.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-1**  
На дисках sdb, sdc, sdd создайте RAID-1 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_26  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_26 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_26  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2226 для SSH подключений.  

*Проверка:*  
```
ssh -p 2226 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant26.sa**  
Настройте Samba как контроллер домена с именем variant26.sa.  

*Проверка:*  
```
samba-tool domain info variant26.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant26_1, variant26_2, variant26_3 и группу variant26_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant26_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant26_1@variant26.sa
```

**D. Sudo права для группы**  
Пользователи variant26_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant26_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 27

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.154.0/24 (т.е. 10.0.154.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.154.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.154.2)  

*2. Динамический пул:* Адреса с 10.0.154.102 по 10.0.154.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-5**  
На дисках sdb, sdc, sdd создайте RAID-5 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_27  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_27 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_27  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2227 для SSH подключений.  

*Проверка:*  
```
ssh -p 2227 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant27.sa**  
Настройте Samba как контроллер домена с именем variant27.sa.  

*Проверка:*  
```
samba-tool domain info variant27.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant27_1, variant27_2, variant27_3 и группу variant27_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant27_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant27_1@variant27.sa
```

**D. Sudo права для группы**  
Пользователи variant27_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant27_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 28

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.155.0/24 (т.е. 10.0.155.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.155.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.155.2)  

*2. Динамический пул:* Адреса с 10.0.155.104 по 10.0.155.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-0**  
На дисках sdb, sdc, sdd создайте RAID-0 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_28  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_28 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_28  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2228 для SSH подключений.  

*Проверка:*  
```
ssh -p 2228 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant28.sa**  
Настройте Samba как контроллер домена с именем variant28.sa.  

*Проверка:*  
```
samba-tool domain info variant28.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant28_1, variant28_2, variant28_3 и группу variant28_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant28_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant28_1@variant28.sa
```

**D. Sudo права для группы**  
Пользователи variant28_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant28_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 29

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.156.0/24 (т.е. 10.0.156.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.156.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.156.2)  

*2. Динамический пул:* Адреса с 10.0.156.106 по 10.0.156.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-1**  
На дисках sdb, sdc, sdd создайте RAID-1 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_29  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_29 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_29  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2229 для SSH подключений.  

*Проверка:*  
```
ssh -p 2229 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant29.sa**  
Настройте Samba как контроллер домена с именем variant29.sa.  

*Проверка:*  
```
samba-tool domain info variant29.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant29_1, variant29_2, variant29_3 и группу variant29_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant29_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant29_1@variant29.sa
```

**D. Sudo права для группы**  
Пользователи variant29_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant29_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 30

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.157.0/24 (т.е. 10.0.157.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.157.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.157.2)  

*2. Динамический пул:* Адреса с 10.0.157.108 по 10.0.157.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-5**  
На дисках sdb, sdc, sdd создайте RAID-5 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_30  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_30 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_30  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2230 для SSH подключений.  

*Проверка:*  
```
ssh -p 2230 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant30.sa**  
Настройте Samba как контроллер домена с именем variant30.sa.  

*Проверка:*  
```
samba-tool domain info variant30.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant30_1, variant30_2, variant30_3 и группу variant30_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant30_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant30_1@variant30.sa
```

**D. Sudo права для группы**  
Пользователи variant30_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant30_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 31

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.158.0/24 (т.е. 10.0.158.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.158.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.158.2)  

*2. Динамический пул:* Адреса с 10.0.158.110 по 10.0.158.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-0**  
На дисках sdb, sdc, sdd создайте RAID-0 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_31  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_31 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_31  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2231 для SSH подключений.  

*Проверка:*  
```
ssh -p 2231 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant31.sa**  
Настройте Samba как контроллер домена с именем variant31.sa.  

*Проверка:*  
```
samba-tool domain info variant31.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant31_1, variant31_2, variant31_3 и группу variant31_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant31_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant31_1@variant31.sa
```

**D. Sudo права для группы**  
Пользователи variant31_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant31_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 32

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.159.0/24 (т.е. 10.0.159.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.159.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.159.2)  

*2. Динамический пул:* Адреса с 10.0.159.112 по 10.0.159.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-1**  
На дисках sdb, sdc, sdd создайте RAID-1 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_32  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_32 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_32  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2232 для SSH подключений.  

*Проверка:*  
```
ssh -p 2232 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant32.sa**  
Настройте Samba как контроллер домена с именем variant32.sa.  

*Проверка:*  
```
samba-tool domain info variant32.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant32_1, variant32_2, variant32_3 и группу variant32_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant32_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant32_1@variant32.sa
```

**D. Sudo права для группы**  
Пользователи variant32_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant32_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 33

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.160.0/24 (т.е. 10.0.160.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.160.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.160.2)  

*2. Динамический пул:* Адреса с 10.0.160.114 по 10.0.160.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-5**  
На дисках sdb, sdc, sdd создайте RAID-5 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_33  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_33 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_33  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2233 для SSH подключений.  

*Проверка:*  
```
ssh -p 2233 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant33.sa**  
Настройте Samba как контроллер домена с именем variant33.sa.  

*Проверка:*  
```
samba-tool domain info variant33.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant33_1, variant33_2, variant33_3 и группу variant33_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant33_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant33_1@variant33.sa
```

**D. Sudo права для группы**  
Пользователи variant33_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant33_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 34

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.161.0/24 (т.е. 10.0.161.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.161.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.161.2)  

*2. Динамический пул:* Адреса с 10.0.161.116 по 10.0.161.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-0**  
На дисках sdb, sdc, sdd создайте RAID-0 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_34  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_34 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_34  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2234 для SSH подключений.  

*Проверка:*  
```
ssh -p 2234 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant34.sa**  
Настройте Samba как контроллер домена с именем variant34.sa.  

*Проверка:*  
```
samba-tool domain info variant34.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant34_1, variant34_2, variant34_3 и группу variant34_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant34_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant34_1@variant34.sa
```

**D. Sudo права для группы**  
Пользователи variant34_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant34_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.



# Экзамен МДК 02.01 - Вариант 35

## Описание
Для сдачи экзамена необходимо настроить сеть из трех машин: ISP (маршрутизатор), Server (сервер) и cli (клиент). Все машины должны работать корректно вместе.

## Схема сети
- ISP: сервер маршрутизации и DHCP
- Server: файловый сервер с RAID, Samba DC, NFS
- cli: клиентская машина для доступа к сервисам
- Все машины подключены в локальную сеть

## Задание

### I. Настройка сетевого взаимодействия (на сервере ISP)
**Цель:** Настроить базовое сетевое взаимодействие и DHCP для внутренней сети.

**A. Настройка внутреннего IP адреса**  
Назначьте интерфейсу внутренней сети первый доступный IP адрес из подсети 10.0.162.0/24 (т.е. 10.0.162.1).  

*Проверка:*  
```
ip addr show
```
Должен отображаться IP 10.0.162.1 на соответствующем интерфейсе.

**B. Настройка iptables для выхода в интернет**  
Установите iptables и настройте правила для NAT (маскарадинга) на внешнем интерфейсе, чтобы машины внутренней сети могли выходить в интернет.  

*Проверка:*  
```
iptables -t nat -L
sudo iptables -L
```
Должны быть правила MASQUERADE и разрешающий трафик.

**C. Настройка DHCP сервера**  
Установите и настройте DHCP сервер для автоматического назначения IP адресов.  

*1. Статический адрес для Server:* Второй свободный адрес подсети (10.0.162.2)  

*2. Динамический пул:* Адреса с 10.0.162.118 по 10.0.162.100  

*Проверка:*  
```
cat /etc/dhcp/dhcpd.conf
systemctl status isc-dhcp-server
```
Конфигурация должна содержать соответствующие диапазоны и резервирование для Server.

### II. Настройка сетевого каталога (на сервере Server)
**Цель:** Создать отказоустойчивый RAID массив и опубликовать его по сети.

**A. Создание RAID-1**  
На дисках sdb, sdc, sdd создайте RAID-1 массив.  

*Проверка:*  
```
cat /proc/mdstat
mdadm --detail /dev/md0
```

**B. Монтирование массива**  
Смонтируйте RAID в каталог /mnt/raid_35  

*Проверка:*  
```
df -h | grep raid_1
mount | grep raid_1
```

**C. Публикация через NFS**  
Опубликуйте /mnt/raid_35 как общедоступный NFS каталог.  

*Проверка:*  
```
cat /etc/exports
systemctl status nfs-server
showmount -e localhost
```

**D. Монтирование на клиенте cli**  
На машине cli примонтируйте сетевой каталог в /share_35  

*Проверка:* (на cli)  
```
df -h | grep share_1
mount | grep share_1
```

### III. Настройка удаленного доступа
**Цель:** Настроить SSH доступ между машинами без пароля.

**A. SSH доступ cli ко всем машинам**  
Настройте возможность подключения с cli на ISP и Server по SSH.  

*Проверка:* (с cli)  
```
ssh ISP
ssh Server
```
Должно подключаться без запроса пароля.

**B. Псевдонимы для подключения**  
Настройте алиасы: `ssh ISP` и `ssh Server`  

*Проверка:*  
```
cat ~/.ssh/config
```

**C. Без пароля**  
Используйте ключи SSH для аутентификации.  

*Проверка:* Попытка подключения без ввода пароля.

**D. Нестандартные порты**  
Используйте порт 2235 для SSH подключений.  

*Проверка:*  
```
ssh -p 2235 user@host
```

**E. Пользователь sshuser**  
Создайте пользователя sshuser на всех машинах.  

*Проверка:*  
```
id sshuser
```

### IV. Управление пользователем sshuser
**Цель:** Настроить ограниченные sudo права для sshuser.

**A. Ограниченные права**  
sshuser может выполнять только shutdown, reboot и htop через sudo.  

*Проверка:*  
```
sudo -l -U sshuser
```

**B. Без пароля для sudo**  
Настроить NOPASSWD для разрешенных команд.  

*Проверка:*  
```
sudo -u sshuser htop
```
Должно работать без запроса пароля.

### V. Настройка службы каталогов Samba DC (на Server)
**Цель:** Создать домен и пользователей для аутентификации.

**A. Домен variant35.sa**  
Настройте Samba как контроллер домена с именем variant35.sa.  

*Проверка:*  
```
samba-tool domain info variant35.sa
systemctl status samba
```

**B. Пользователи и группа**  
Создайте пользователей variant35_1, variant35_2, variant35_3 и группу variant35_group.  

*Проверка:*  
```
samba-tool user list
samba-tool group listmembers variant35_group
```

**C. Аутентификация на cli**  
Пользователи домена должны иметь возможность входа на cli.  

*Проверка:* (на cli)  
```
su - variant35_1@variant35.sa
```

**D. Sudo права для группы**  
Пользователи variant35_group имеют те же ограниченные права на cli, что и sshuser.  

*Проверка:*  
```
sudo -l -U variant35_1
```

### VI. Настройка iptables (на ISP)
**Цель:** Настроить фильтрацию трафика.

**A. Запрет транзитного трафика**  
Запретить весь транзитный трафик, кроме:  
- Established и related соединения  
- Порты 80, 443, 53  

*Проверка:*  
```
sudo iptables -L
```
Должны быть соответствующие правила.
